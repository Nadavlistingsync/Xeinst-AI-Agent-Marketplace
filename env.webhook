# =============================================================================
# AI Agent Marketplace - Webhook System Environment Variables
# =============================================================================
# Add these to your .env file for webhook functionality

# =============================================================================
# CORE WEBHOOK CONFIGURATION
# =============================================================================

# Your app's public URL (required for webhook callbacks)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Webhook system configuration
ENABLE_WEBHOOKS=true
WEBHOOK_TIMEOUT=30000
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=1000

# =============================================================================
# WEBHOOK SECURITY
# =============================================================================

# Global webhook signing secret (for validating incoming webhooks)
WEBHOOK_SECRET=your-webhook-signing-secret-change-this

# JWT secret for webhook authentication
JWT_SECRET=your-jwt-secret-for-webhook-auth

# =============================================================================
# FILE STORAGE (for temporary files)
# =============================================================================

# Temporary file storage settings
TEMP_FILE_MAX_SIZE=10485760  # 10MB in bytes
TEMP_FILE_RETENTION_HOURS=24
TEMP_FILE_CLEANUP_INTERVAL=3600000  # 1 hour in milliseconds

# =============================================================================
# AGENT EXECUTION
# =============================================================================

# Agent execution limits
AGENT_EXECUTION_TIMEOUT=30000  # 30 seconds
AGENT_MAX_CONCURRENT_EXECUTIONS=10
AGENT_DEFAULT_PRICE=5
AGENT_PLATFORM_FEE_PERCENTAGE=20

# =============================================================================
# RATE LIMITING
# =============================================================================

# Webhook rate limiting
WEBHOOK_RATE_LIMIT_WINDOW_MS=60000  # 1 minute
WEBHOOK_RATE_LIMIT_MAX_REQUESTS=60
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Webhook monitoring
ENABLE_WEBHOOK_MONITORING=true
WEBHOOK_LOG_LEVEL=info
ENABLE_WEBHOOK_ANALYTICS=true

# =============================================================================
# CLEANUP & MAINTENANCE
# =============================================================================

# Automatic cleanup settings
ENABLE_AUTO_CLEANUP=true
CLEANUP_INTERVAL_HOURS=1
EXECUTION_RETENTION_DAYS=30
FILE_RETENTION_DAYS=1

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug webhook system
DEBUG_WEBHOOKS=false
LOG_WEBHOOK_PAYLOADS=false
MOCK_WEBHOOK_RESPONSES=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production webhook settings
WEBHOOK_SSL_VERIFY=true
WEBHOOK_USER_AGENT=AI-Agent-Marketplace/1.0
WEBHOOK_DEFAULT_HEADERS={"Content-Type": "application/json"}

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# Supported webhook platforms
ENABLE_N8N_INTEGRATION=true
ENABLE_ZAPIER_INTEGRATION=true
ENABLE_MAKE_INTEGRATION=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS settings for webhooks
CORS_ORIGINS=http://localhost:3000,https://your-domain.com
ALLOWED_WEBHOOK_ORIGINS=https://n8n.io,https://zapier.com,https://make.com

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Webhook failure notifications
WEBHOOK_FAILURE_NOTIFICATION_EMAIL=admin@your-domain.com
ENABLE_WEBHOOK_FAILURE_ALERTS=true

# =============================================================================
# TESTING
# =============================================================================

# Test webhook endpoints
TEST_WEBHOOK_URL=https://webhook.site/your-unique-id
TEST_WEBHOOK_SECRET=test-webhook-secret

# =============================================================================
# NOTES
# =============================================================================
# 1. Copy these variables to your .env file
# 2. Replace placeholder values with your actual configuration
# 3. Use different values for development, staging, and production
# 4. Keep webhook secrets secure and rotate them regularly
# 5. Monitor webhook execution logs for debugging
# =============================================================================
